<ui:composition template="/WEB-INF/template/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
    <f:metadata>
        <f:event type="preRenderView" listener="#{usuarioBean.checkAccessUsuario}" />
    </f:metadata>

	<ui:define name="title">
    	#{text['tituloIncidencias']}
  	</ui:define>

	<ui:param name="estilo3" value="current_page_item" />

	<ui:define name="content">
		<div id="main-wrapper">
			<div class="wrapper style1">
				<div class="inner">
					<section class="container box feature1">
						<div class="col-12">
							<header class="first major">
								<h2>
									<h:outputText value="#{text['textoAddIncidencia']}" />
								</h2>
							</header>
						</div>
						<h:form>
							<p:outputLabel for="biciMenu" value="#{text['creaIncidencia']}"
								style="font-size: 1.5em; font-weight: bold;" />
							<div class="container">
								<div class="row">
									<p>
										<p:outputLabel for="biciMenu" value="Bici"
											style="font-weight: bold;"/>
										<h:selectOneMenu id="biciMenu"
											value="#{crearIncidenciaBean.idBici}" var="b"
											style="width: 100%; height: auto;">
											<f:selectItem itemLabel="#{text['obligatorio']}" itemValue="" />
											<f:selectItems value="#{crearIncidenciaBean.bicis}"
												var="bici" itemLabel="Id: #{bici.id} #{text['modelo']}: #{bici.modelo}"
												itemValue="#{bici.id}" />
										</h:selectOneMenu>
									</p>
									<p>
										<p:outputLabel for="descripcion" value="#{text['descripcion']}" style="font-weight: bold;" />
										<p:inputText id="descripcion" value="#{crearIncidenciaBean.descripcion}"
											style="width: 100%; height: auto;" placeholder="#{text['obligatorio']}" />
									</p>
								</div>

								<p:commandButton value="#{text['crear']}" action="#{crearIncidenciaBean.crearIncidencia}"
									icon="pi pi-plus-circle" iconPos="right" update="@form"
									style="margin-top: 10px; width: auto; height: auto;" />
							</div>
							<br />
						</h:form>
						<p:dialog id="dialogoCrearIncidencia" widgetVar="widgetDialogCrearIncidencia" closable="true"
								  style="min-width: 400px; border-radius: 8px;">
							<h:form>
								<h2 style="text-align: center; font-size: 1.5em;">
									<h:outputText value="#{crearIncidenciaBean.header}" />
								</h2>
								<h:outputText value="#{crearIncidenciaBean.message}" style="display: block; text-align: center; margin-top: 20px;" />
								<br />

								<p:commandButton value="#{text['cerrar']}"
									onclick="PF('widgetDialogCrearIncidencia').hide();"
									style="margin: 0 auto; display: block; padding: 10px 20px; font-size: 1.2em;" update="@form"
									styleClass="#{CrearIncidenciaBean.clase}" />
							</h:form>
						</p:dialog>
					</section>
				</div>
			</div>
		</div>

	</ui:define>
</ui:composition>
